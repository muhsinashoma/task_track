---------------------------------------------------------------------------------------
https://chatgpt.com/c/68ef8967-b5c4-8321-abf3-ca9772aebd6c



That file loops:

All projects (tbl_project_details)

	â†’ All columns (tbl_task_board)

		â†’ All tasks (tbl_task_name)


-------------------------------------------------------------------------------------------
get_task_data_kanban.php


include 'config.php';

// Get filters
$period         = isset($_GET['period']) ? intval($_GET['period']) : 1;
$unit           = isset($_GET['unit']) ? strtolower($_GET['unit']) : "days";
$projectId      = isset($_GET['project_id']) ? intval($_GET['project_id']) : 0;
$userIdentifier = isset($_GET['user_identifier']) ? $_GET['user_identifier'] : ""; // ğŸ‘ˆ new

// Build condition by time
switch ($unit) {
    case "days":  $condition = "created_at >= DATE_SUB(NOW(), INTERVAL $period DAY)"; break;
    case "months": $condition = "created_at >= DATE_SUB(NOW(), INTERVAL $period MONTH)"; break;
    case "years":  $condition = "created_at >= DATE_SUB(NOW(), INTERVAL $period YEAR)"; break;
    case "last days": $condition = "DATE(created_at) = DATE(NOW() - INTERVAL $period DAY)"; break;
    case "last months":
        $condition = "MONTH(created_at) = MONTH(NOW() - INTERVAL $period MONTH)
                      AND YEAR(created_at) = YEAR(NOW() - INTERVAL $period MONTH)";
        break;
    case "last years":
        $condition = "YEAR(created_at) = YEAR(NOW() - INTERVAL $period YEAR)";
        break;
    default:
        $condition = "created_at >= DATE_SUB(NOW(), INTERVAL 1 DAY)";
}

// ---------------- Fetch Boards ----------------
$sql = "SELECT * FROM tbl_task_board WHERE status = 1";
if (!empty($userIdentifier)) {
    $sql .= " AND user_identifier = '$userIdentifier'"; // ğŸ‘ˆ filter by user
}
if ($projectId > 0) {
    $sql .= " AND project_id = '$projectId'"; // ğŸ‘ˆ filter by project
}

$res = $con->query($sql);

$taskBoards = [];
$columnIds = [];

if ($res && $res->num_rows > 0) {
    while ($row = $res->fetch_assoc()) {
        $row['tasks'] = [];
        $taskBoards[$row['id']] = $row;
        $columnIds[] = $row['id'];
    }
}

$columnIdsStr = $columnIds ? implode(',', $columnIds) : "0";

// ---------------- Fetch Tasks ----------------
$sql = "SELECT * FROM tbl_task_name 
        WHERE column_name IN ($columnIdsStr)
          AND status = 1 
          AND $condition";

if ($projectId > 0) {
    $sql .= " AND project_id = '$projectId'";
}
if (!empty($userIdentifier)) {
    $sql .= " AND user_identifier = '$userIdentifier'"; // ğŸ‘ˆ filter by user
}

$sql .= " ORDER BY id DESC";

$tasksRes = $con->query($sql);

if ($tasksRes && $tasksRes->num_rows > 0) {
    while ($task = $tasksRes->fetch_assoc()) {
        $taskBoards[$task['column_name']]['tasks'][] = $task;
    }
}

$taskBoards = array_values($taskBoards);

// Response
header("Access-Control-Allow-Origin: *");
header("Access-Control-Allow-Methods: GET, POST, OPTIONS");
header("Access-Control-Allow-Headers: Origin, Content-Type, Accept, Authorization");
header('Content-Type: application/json');

echo json_encode(['success' => true, 'task_boards' => $taskBoards]);


----------------------------------------------------------------------------------------------

1. meaning of HSVColor


HSVColor is a class in Flutter that represents a color using the HSV color model, which stands for:

H â€” Hue (the type of color, measured in degrees from 0Â° to 360Â°; e.g., 0Â° = red, 120Â° = green, 240Â° = blue)

S â€” Saturation (how vivid or â€œpureâ€ the color is; ranges from 0.0 to 1.0; 0 = gray, 1 = fully saturated)

V â€” Value (brightness; ranges from 0.0 to 1.0; 0 = black, 1 = full brightness)

Why use HSV instead of RGB

RGB (Red, Green, Blue) is great for defining exact colors, but if you want many distinct colors dynamically, HSV is easier because you can:

Vary hue to get completely different colors.

Keep saturation and value consistent so all colors look balanced.

Cycle through hues to generate unique colors for lists of items (like projects) automatically.